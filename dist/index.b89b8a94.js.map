{"mappings":"ACEA,MAAM,EAAK,uCACL,EAAe,SAAS,cAAc,CAAC,iBAE7C,SAAS,cAAc,CAAC,iBAAiB,iBAAiB,SAAU,MAAO,IACvE,EAAM,cAAc,GAEpB,IAAM,EAAW,SAAS,cAAc,CAAC,oBAAoB,KAAK,CAC5D,EAAW,SAAS,cAAc,CAAC,oBAAoB,KAAK,CAElE,GAAI,CACA,IAAM,EAAW,MAAM,MAAM,CAAC,EAAE,EAAI,QAAQ,CAAC,CAAE,CAC3C,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAA,EAAU,SAAA,CAAS,EAC9C,GAEM,EAAO,MAAM,EAAS,IAAI,EAC5B,CAAA,EAAS,EAAE,EACX,QAAQ,GAAG,CAAC,0BACZ,OAAO,QAAQ,CAAC,IAAI,CAAG,cAEvB,QAAQ,GAAG,CAAC,CAAC,KAAK,EAAE,EAAK,KAAK,CAAC,CAAC,CAExC,CAAE,MAAO,EAAO,CACZ,QAAQ,GAAG,CAAC,wBAChB,CACJ,GAGA,SAAS,cAAc,CAAC,cAAc,iBAAiB,SAAU,MAAO,IACpE,EAAM,cAAc,GAEpB,IAAM,EAAW,SAAS,cAAc,CAAC,iBAAiB,KAAK,CACzD,EAAW,SAAS,cAAc,CAAC,iBAAiB,KAAK,CAE/D,GAAI,CACA,IAAM,EAAW,MAAM,MAAM,CAAC,EAAE,EAAI,KAAK,CAAC,CAAE,CACxC,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAA,EAAU,SAAA,CAAS,EAC9C,GAEM,EAAO,MAAM,EAAS,IAAI,EAC5B,AAAoB,CAAA,MAApB,EAAS,MAAM,EACf,QAAQ,GAAG,CAAC,uBACZ,QAAQ,GAAG,CAAC,aAAc,EAAK,QAAQ,CAAC,KAAK,EAE7C,aAAa,OAAO,CAAC,MAAO,EAAK,QAAQ,CAAC,KAAK,EAC/C,OAAO,QAAQ,CAAC,IAAI,CAAG,mBAEvB,EAAa,SAAS,CAAG,4BACzB,QAAQ,GAAG,CAAC,CAAC,KAAK,EAAE,EAAK,KAAK,CAAC,CAAC,EAExC,CAAE,MAAO,EAAO,CACZ,QAAQ,GAAG,CAAC,sBAChB,CACJ","sources":["<anon>","src/js/main.js"],"sourcesContent":["var $54b47fc030b7b21e$exports = {};\n// Hantera registreringsformuläret\nconst $54b47fc030b7b21e$var$url = \"https://palogmongo.onrender.com/api/\";\nconst $54b47fc030b7b21e$var$errorMessage = document.getElementById(\"error-message\");\ndocument.getElementById(\"registerForm\")?.addEventListener(\"submit\", async (event)=>{\n    event.preventDefault();\n    const username = document.getElementById(\"registerUsername\").value;\n    const password = document.getElementById(\"registerPassword\").value;\n    try {\n        const response = await fetch(`${$54b47fc030b7b21e$var$url}register`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        const data = await response.json();\n        if (response.ok) {\n            console.log(\"Anv\\xe4ndare registrerad!\");\n            window.location.href = \"index.html\";\n        } else console.log(`Fel: ${data.error}`);\n    } catch (error) {\n        console.log(\"Fel vid registrering.\");\n    }\n});\n// Hantera inloggningsformuläret\ndocument.getElementById(\"loginForm\")?.addEventListener(\"submit\", async (event)=>{\n    event.preventDefault();\n    const username = document.getElementById(\"loginUsername\").value;\n    const password = document.getElementById(\"loginPassword\").value;\n    try {\n        const response = await fetch(`${$54b47fc030b7b21e$var$url}login`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        const data = await response.json();\n        if (response.status === 200) {\n            console.log(\"Anv\\xe4ndare inloggad!\");\n            console.log(\"JWT Token:\", data.response.token);\n            // Spara token i localStorage\n            localStorage.setItem(\"jwt\", data.response.token);\n            window.location.href = \"protected.html\";\n        } else {\n            $54b47fc030b7b21e$var$errorMessage.innerHTML = \"Fel anv\\xe4ndarnamn/L\\xf6senord\";\n            console.log(`Fel: ${data.error}`);\n        }\n    } catch (error) {\n        console.log(\"Fel vid inloggning.\");\n    }\n});\n\n\n//# sourceMappingURL=index.b89b8a94.js.map\n","// Hantera registreringsformuläret\r\n\r\nconst url= \"https://palogmongo.onrender.com/api/\"\r\nconst errorMessage = document.getElementById(\"error-message\")\r\n\r\ndocument.getElementById('registerForm')?.addEventListener('submit', async (event) => {\r\n    event.preventDefault();\r\n\r\n    const username = document.getElementById('registerUsername').value;\r\n    const password = document.getElementById('registerPassword').value;\r\n\r\n    try {\r\n        const response = await fetch(`${url}register`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ username, password })\r\n        });\r\n\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n            console.log('Användare registrerad!');\r\n            window.location.href = 'index.html';  \r\n        } else {\r\n            console.log(`Fel: ${data.error}`);\r\n        }\r\n    } catch (error) {\r\n        console.log('Fel vid registrering.');\r\n    }\r\n});\r\n\r\n// Hantera inloggningsformuläret\r\ndocument.getElementById('loginForm')?.addEventListener('submit', async (event) => {\r\n    event.preventDefault();\r\n\r\n    const username = document.getElementById('loginUsername').value;\r\n    const password = document.getElementById('loginPassword').value;\r\n\r\n    try {\r\n        const response = await fetch(`${url}login`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ username, password })\r\n        });\r\n\r\n        const data = await response.json();\r\n        if (response.status === 200) {\r\n            console.log('Användare inloggad!');\r\n            console.log('JWT Token:', data.response.token);\r\n            // Spara token i localStorage\r\n            localStorage.setItem('jwt', data.response.token);\r\n            window.location.href = 'protected.html'\r\n        } else {\r\n            errorMessage.innerHTML = \"Fel användarnamn/Lösenord\"\r\n            console.log(`Fel: ${data.error}`);\r\n        }\r\n    } catch (error) {\r\n        console.log('Fel vid inloggning.');\r\n    }\r\n});\r\n"],"names":["$54b47fc030b7b21e$var$url","$54b47fc030b7b21e$var$errorMessage","document","getElementById","addEventListener","event","preventDefault","username","value","password","response","fetch","method","headers","body","JSON","stringify","data","json","ok","console","log","window","location","href","error","status","token","localStorage","setItem","innerHTML"],"version":3,"file":"index.b89b8a94.js.map"}